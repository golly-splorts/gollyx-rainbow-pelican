{% extends 'base.html' %}
{% block content %}


<div class="container" id="container-golly-header">
  <div class="row">
    <h1 class="golly-simulator-header" style="color: #eee;"><span id="golly-game-title">Rainbow Life</span></h1>
  </div>
</div>


<div class="container invisible" id="container-golly-controls">

  <div class="row">
  
      <div class="col-md-4">
  
          <div class="card bg-primary mb-3">
              <h4 class="card-header text-white">Scoreboard</h4>
  
              <ul class="list-group scoreboard-panel list-group-flush">
  
                  <li class="list-group-item scoreboard-panel" id="scoreboard-panel-livecells1">
                      <table width="100%"><tr><td class="scoreboard-table-left-column">
                        <span class="badge badge-success" id="team1rank"></span>
                        <span class="icon-container team-icon-container" id="team1-icon-container"></span>
                        <span class="team1color team1name"></span>
                      </td><td align="right" class="scoreboard-table-right-column">
                        <b>
                        <span class="team1color" id="livecells1"></span>
                        </b>
                      </td></tr></table>
                  </li>
  
                  <li class="list-group-item scoreboard-panel" id="scoreboard-panel-livecells2">
                      <table width="100%"><tr><td class="scoreboard-table-left-column">
                        <span class="badge badge-success" id="team2rank"></span>
                        <span class="icon-container team-icon-container" id="team2-icon-container"></span>
                        <span class="team2color team2name"></span>
                      </td><td align="right" class="scoreboard-table-right-column">
                        <b>
                        <span class="team2color" id="livecells2"></span>
                        </b>
                      </td></tr></table>
                  </li>

                  <li class="list-group-item scoreboard-panel" id="scoreboard-panel-livecells3">
                      <table width="100%"><tr><td class="scoreboard-table-left-column">
                        <span class="badge badge-success" id="team3rank"></span>
                        <span class="icon-container team-icon-container" id="team3-icon-container"></span>
                        <span class="team3color team3name"></span>
                      </td><td align="right" class="scoreboard-table-right-column">
                        <b>
                        <span class="team3color" id="livecells3"></span>
                        </b>
                      </td></tr></table>
                  </li>
  
                  <li class="list-group-item scoreboard-panel" id="scoreboard-panel-livecells4">
                      <table width="100%"><tr><td class="scoreboard-table-left-column">
                        <span class="badge badge-success" id="team4rank"></span>
                        <span class="icon-container team-icon-container" id="team4-icon-container"></span>
                        <span class="team4color team4name"></span>
                      </td><td align="right" class="scoreboard-table-right-column">
                        <b>
                        <span class="team4color" id="livecells4"></span>
                        </b>
                      </td></tr></table>
                  </li>
  
                  <li class="list-group-item scoreboard-panel" id="scoreboard-panel-generation">
                      <table width="100%"><tr><td>
                        Generation:
                      </td><td align="right">
                        <span id="generation"></span>
                      </td></tr></table>
                  </li>
  
                  <li class="list-group-item scoreboard-panel" id="scoreboard-panel-map">
                      <table width="100%"><tr><td>
                        Map:
                      </td><td align="right">
                        <span class="badge badge-brightmono" id="mapname-label"></span>
                      </td></tr></table>
                  </li>
  
              </ul>
  
          </div>
  
      </div>
  
      <div class="col-md-4">
  
          <div class="card bg-primary mb-3">
              <h4 class="card-header text-white">Stats</h4>
  
              <ul class="list-group list-group-flush">

                  <li class="list-group-item">
                      <table width="100%"><tr><td>
                        Live Percentage:
                      </td><td align="right">
                        <span id="livePct"></span>
                      </td></tr></table>
                  </li>
  
                  <li class="list-group-item">
                      <table width="100%"><tr><td>
                        Live Cells:
                      </td><td align="right">
                        <span id="livecells"></span>
                      </td></tr></table>
                  </li>

                  <li class="list-group-item" id="team1record-container">
                      <table width="100%"><tr><td>
                        <span class="team1color"><span class="team1name"></span><br />W-2-3-L:</span>
                      </td><td align="right" class="simulator-wl-column">
                        <b>
                        <span class="team1color simulator-record" id="team1record"></span>
                        </b>
                      </td></tr></table>
                  </li>

                  <li class="list-group-item" id="team2record-container">
                      <table width="100%"><tr><td>
                        <span class="team2color"><span class="team2name"></span><br />W-2-3-L:</span>
                      </td><td align="right" class="simulator-wl-column">
                        <b>
                        <span class="team2color simulator-record" id="team2record"></span>
                        </b>
                      </td></tr></table>
                  </li>
  
                  <li class="list-group-item" id="team3record-container">
                      <table width="100%"><tr><td>
                        <span class="team3color"><span class="team3name"></span><br />W-2-3-L:</span>
                      </td><td align="right" class="simulator-wl-column">
                        <b>
                        <span class="team3color simulator-record" id="team3record"></span>
                        </b>
                      </td></tr></table>
                  </li>
  
                  <li class="list-group-item" id="team4record-container">
                      <table width="100%"><tr><td>
                        <span class="team4color"><span class="team4name"></span><br />W-2-3-L:</span>
                      </td><td align="right" class="simulator-wl-column">
                        <b>
                        <span class="team4color simulator-record" id="team4record"></span>
                        </b>
                      </td></tr></table>
                  </li>
  
              </ul>
  
          </div>
  
      </div>
      <div class="col-md-4">
  
          <div class="card bg-primary">
              <h4 class="card-header text-white">Rainbow Control</h4>
  
              <ul class="list-group list-group-flush">
                  <li class="list-group-item">
                      <div class="box controls">
                          <form action="">
                              <div class="btn-group" role="group" aria-label="Basic example">
                                  <button type="button" id="buttonRun"   class="btn btn-lg btn-success btn-secondary">Run</button>
                                  <button type="button" id="buttonStep"  class="btn btn-lg btn-default btn-secondary">Step</button>
                                  <button type="button" id="buttonClear" class="btn btn-lg btn-default btn-secondary">Clear</button>
                              </div>
                          </form>
                      </div>
                  </li>
                  <li class="list-group-item">
                      <div class="box controls">
                          <form action="">
                              <div class="btn-group" role="group" aria-label="Basic example">
                                  <button type="button" id="buttonGrid"   class="btn btn-lg btn-default btn-secondary">Grid</button>
                                  <button type="button" id="buttonTrail"  class="btn btn-lg btn-default btn-secondary">Trail</button>
                                  <button type="button" id="buttonColors" class="btn btn-lg btn-default btn-secondary">Colors</button>
                              </div>
                          </form>
                      </div>
                  </li>
                  <li class="list-group-item">
                      <div class="box controls">
                          <div class="slidecontainer">
                            <form>
                              <div class="form-group">
                                <label for="formControlRange" class="float-left">Faster</label>
                                <label for="formControlRange" class="float-right">Slower</label>
                                <input type="range" class="form-control-range" id="speed-slider" min="1" max="4" step="1" value="2">
                              </div>
                            </form>
                          </div>
                      </div>
                  </li>
              </ul>
  
          </div>
  
      </div>
  </div>

  <div class="row">
    <p>Press the <b>R</b> key to start/pause the simulator.
    Press the <b>S</b> key to step forward one generation.
    Press the <b>G</b> key to turn the grid on or off.
    </p>
  </div>

</div>

<div class="container invisible" id="container-canvas">

  <div class="row">
    <table border="0">
      <tr>
        <td>
          <span class="badge badge-brightmono" id="zone2label"></span>
        </td><td align="right">
          <span class="badge badge-brightmono" id="zone1label"></span>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <canvas id="canvas" width="900" height="450">
          </canvas>
        </td>
      </tr>
      <tr>
        <td>
          <span class="badge badge-brightmono" id="zone3label"></span>
        </td><td align="right">
          <span class="badge badge-brightmono" id="zone4label"></span>
        </td>
      </tr>
    </table>
  </div>

</div>

</div>


<div class="container" id="container-golly-frontmatter">

  <div class="row">

    <p>&nbsp;</p>

    <p>&nbsp;</p>

    <p>To start the simulator, click the <span class="badge badge-success">Run</span> button. Click again to pause it.
    The <span class="badge badge-secondary">Step</span> button will advance the simulator by a single step
    when it is paused. Refresh the window to reset the simulator.
    </p>

    <p>You can also control the appearance of the simulator.
    Use the <span class="badge badge-secondary">Colors</span> button to cycle through different
    color schemes for the two teams. Use the <span class="badge badge-secondary">Grid</span> button
    to turn the grid on and off. Use the <span class="badge badge-secondary">Trails</span> button
    to show what cells have been active at any point during the game.
    </p>

    <p>This simulator is a four-color version of Conway's Game of Life on a torus (periodic boundary conditions,
    where the left side maps to the right side, and the top maps to the bottom). If you're not
    sure what all of this is about, check out the <a href="{{ SITEURL }}/about.html">about page</a>.
    </p>

  </div>

</div>


<div class="container invisible" id="container-loading">

    <div class="row text-center notify-header">
      <div class="col-md-12">
        <h4 class="text-success">The site is currently loading...</h4>
      </div>
    </div>

</div>


<div class="container invisible" id="container-error">

    <div class="row text-center notify-header">
      <div class="col-md-12">
        <h2 class="text-danger">The site has experienced a technical glitch.</h2>
      </div>
    </div>

    <div class="row text-center notify-body">
      <div class="col-md-12">
        <p>
        Ninjas have been dispatched to track down those responsible for the downtime
        and bring them back to Hellmouth Community College to fix the site.
        </p>
      </div>
    </div>

</div>

<noscript>
  <div class="container" id="container-noscript">
    <div class="row text-center landing-header">
      <div class="col-md-12">
        <h2 class="text-danger">You must have Javascript enabled to view this site.</h2>
      </div>
    </div>
  </div>
</noscript>

{% endblock %}
{% block javascript %}
<script src="{{ SITEURL }}/theme/js/json-sans-eval.js"></script>
<script src="rainbow_life.js"></script>
{% endblock %}
